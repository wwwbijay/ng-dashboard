<top-nav></top-nav>
<div class="sec_heading">
  <div class="wrap">
    <div class="page-title">
      <h1>{{pageTitle}}</h1>
      <a [routerLink]="'/'" (click)="newClient()" class="btn-create">
        <span class="material-icons add">add</span> Create New
      </a>
    </div>
  </div>
  
</div>

<section class="container">
  <div class="wrap">
    <div *ngIf="currentUser?.role === 'admin'" id="main" class="main">
      <!--Client List START-->
      <div class="client-list">
        <table
          mat-table
          [dataSource]="clientLists"
          class="data-table mat-elevation-z2"
        >
          <!-- Position Column -->
          <ng-container matColumnDef="clientCode">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Client Code
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.companyCode }}
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="clientName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Client Name
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.companyName }}
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="userName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>User Name</th>
            <td mat-cell *matCellDef="let element">{{ element.userName }}</td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
            <td mat-cell *matCellDef="let element">{{ element.role }}</td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="isActive">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Is Active?
            </th>
            <td mat-cell *matCellDef="let element">
              <mat-slide-toggle
                [(ngModel)]="element.status"
                (change)="slideToggle($event,element.companyCode)"
              >
              </mat-slide-toggle>
            </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let element">
              <div class="action_icons">
                <a [routerLink]="'/'" (click)="updateClient(element.companyCode)">
                  <span class="material-icons edit">edit</span>
                </a>
                <a [routerLink]="'/company/'+element.companyCode" >
                  <span class="material-icons edit">
                    visibility
                    </span>
                </a>
              </div>
              
             
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
      <!--Client List ENds-->
    </div>
    <!--#main ends-->
  </div>
</section>
